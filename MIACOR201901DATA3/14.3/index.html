<!DOCTYPE html>
	<head>
		<meta charset="UTF-8">
		<title>Jonathan Moo's Github Bio</title>


		<link rel='stylesheet' id='bootstrap-css'  href='../../css/bootstrap.min.css' type='text/css' media='all' />
		<link rel='stylesheet' id='bootstrap-grid-css'  href='../../css/bootstrap-grid.min.css' type='text/css' media='all' />
		<link rel='stylesheet' id='custom-css'  href='../../css/style.css' type='text/css' media='all' /> 
		<script src="https://d3js.org/d3.v5.min.js"></script>
	</head>

	<body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="#">Jonathan's Github Page</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active">
						<a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/11.2/index.html">11.2 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/11.3/index.html">11.3 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/12.1/index.html">12.1 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/12.3/index.html">12.3 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/13.1/index.html">13.1 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/13.2/index.html">13.2 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/13.3/index.html">13.3 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/14.1/index.html">14.1 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="../../MIACOR201901DATA3/14.2/index.html">14.2 Ref</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href=../../"MIACOR201901DATA3/14.3/index.html">14.3 Ref</a>
					</li>
				</ul>
			</div>
		</nav>
		<div class="container-fluid">
			<div class="row">
				<div id="main-content" class="col-md-8">
					<div class="objective-block">
						<h3 id="objectives">Objectives For Lesson 14.3</h3>

						<ul>
							<li>Javascript!</li>
							<ul>
								<li>We'll explore the D3 library today.</li>
								<li>We're only focused on FRONT-END development.</li>
							</ul>
						</ul>

						
					</div>

					<div id="why-we-learn" class="instructor-block">
						<h3>Why We Learn?</h3>
						
						<p><a href="https://d3js.org/">D3 means "Data-Driven Documents".</a> It's <strong>not only</strong> plotting nice graphs and make awesome visualization. The main purpose of D3 is about manipulating DOM (Document Object Model).</p>

						<h5>You might ask, what is DOM?</h5>

						<p>You've been dealing HTML for some time, and DOM is simply represented by the tags which you've been using. We call the tags within a HTML as "DOM elements".</p>

						<p>The power to manipulate the tags or DOM elements <strong>without reloading the page</strong> is the reason why we can put awesome visualizations on the web.</p>

						<p>This is for Data Visulization Engineers, which is a very specialized field.</p>

					</div>

					<div id="01-Evr_D3_Select" class="instructor-block">
						<h3>01-Evr_D3_Select</h3>

						<p>First, include the following tag within your HTML:</p>

						<pre><code>&lt;script src="https://d3js.org/d3.v5.min.js"&gt;&lt;/script&gt;</code></pre>

						<p>This pulls the file from the official repository from d3js.org.</p>

						<p>D3 is similar to splinter or beautiful soup in Python. You can select elements and tags from code:</p>

						<pre>
							<code>
d3.select(".instructor-block");
							</code>
						</pre>

						<ul>
							<li><code>select</code> takes the first element of the tag, very much similar like splinter where find() gets the first element too.</li>
							<li><code>selectAll</code> take every element, just like findAll()</li>
							<li>Within <code>select</code>, you can get a specific element with CSS syntax, where:</li>
							<ul>
								<li><code>.</code> (dots) represent classes.</li>
								<li><code>#</code> (hex) represent ids.</li>
							</ul>
						</ul>

						<p>You can then chain other methods to <code>select</code>, just like splinter and beautiful soup.</p>
						<pre>
							<code>
d3.select(".instructor-block").text(); // Gets the text
d3.select(".instructor-block").html(); // Gets the HTML
							</code>
						</pre>

						<p>You can change the contents by including strings within the methods.</p>
						<pre>
							<code>
d3.select(".instructor-block").text("Hello"); // Gets the text
d3.select(".instructor-block").html("&lt;h1>Hello&lt;/h1>"); // Gets the HTML
							</code>
						</pre>

						<h3>What does this all mean?</h3>
						
						<p>If you don't label your HTML properly with <code>id</code> and <code>class</code>, you'll never be able to get your desired effect.</p>

						<p>Let's say you want to add a new link to your sidebar:</p>
						<pre>
							<code>
// This is MY sidebar. Please don't copy and paste blindly.
var newAnchor = d3.select("#right-sb-nav").append("a").attr("href","#").attr("class","list-group-item list-group-item-action").attr("role","tab").text("Another Link For Example");
							</code>
						</pre>

						<p>To add elements within a tag, <code>select</code> the element first, then use <code>append</code>:</p>

						<pre>
							<code>
// This is MY sidebar. Please don't copy and paste blindly.
var newAnchor = d3.select("#right-sb-nav").append("a");
							</code>
						</pre>

						<p>You can attach attributes onto the same tag by using the <code>attr</code> method:</p>
						<pre>
							<code>
// This is MY sidebar. Please don't copy and paste blindly.
var newAnchor = d3.select("#right-sb-nav").append("a").attr("href","#");
							</code>
						</pre>

						<p>Text and HTML affects the <strong>value</strong> The value is encapsulated by the resultant tags:</p>
						<pre>
							<code>
// This is MY sidebar. Please don't copy and paste blindly.
var newAnchor = d3.select("#right-sb-nav").append("a").attr("href","#").text("Another Link For Example");
							</code>
						</pre>

					</div> <!-- end .instructor-block -->

					<div id="02-Stu_D3_Select" class="student-block">
						<h3>02-Stu_D3_Select: Your Turn</h3>
					</div>

					<div id="03-Evr_D3_Table" class="instructor-block">
						<h3>03-Evr_D3_Table</h3>
						
						<p>You're given a JSON data which resembles data from MongoDB:</p>

						<pre>
							<code>
var data = [
  {
    weekday: "SUN",
    date: "July 1",
    high: 76,
    low: 63
  }, {
    weekday: "MON",
    date: "July 2",
    high: 77,
    low: 63
  }, {
    weekday: "TUE",
    date: "July 3",
    high: 77,
    low: 63
  }, {
    weekday: "WED",
    date: "July 4",
    high: 81,
    low: 65
  }, {
    weekday: "THU",
    date: "July 5",
    high: 87,
    low: 68
  }, {
    weekday: "FRI",
    date: "July 6",
    high: 91,
    low: 71
  }, {
    weekday: "SAT",
    date: "July 7",
    high: 91,
    low: 72
  }
];
							</code>
						</pre>

						<p>The goal is to create a table out of the data. You <strong>SHOULD</strong> have a table tag within your HTML selected such as this:</p>
						<pre>
							<code>
&lt;table id="table" class="table">
	&lt;thead>
	&lt;/thead>

	&lt;tbody>
	&lt;/tbody>
&lt;table>						
							</code>
						</pre>

						<p>If you don't have a placeholder such as the above, the D3 object has nothing to select, and it is difficult to add rows into nothing.</p>

						<h4>Step 1: Loop through the data</h4>
						<pre>
							<code>
var tbody = d3.select("tbody");

data.forEach(function(weatherReport) {
   console.log(weatherReport);
});							
							</code>
						</pre>

						<h4>Step 2: For every row, you want to encapsulate every row with a <code>&lt;tr>&lt;/tr></code> tag.</h4>
						<pre>
							<code>
data.forEach(function(weatherReport) {
   console.log(weatherReport);
   var row = tbody.append("tr");
   console.log(row);
});						
							</code>
						</pre>

						<p>I have a hidden table within this page. It will populate the tags according to the number of rows.</p>

						<h4>Step 3: Use <code>Object.entries</code> to get the key-pair values:</h4>
						<pre>
							<code>
data.forEach(function(weatherReport) {
   console.log(weatherReport);
   var row = tbody.append("tr");

   Object.entries(weatherReport).forEach(function([key, value]) {
     console.log(key, value);
   });
 });
							</code>
						</pre>

						<h4>Step 4: Use d3 to append 1 cell per value</h4>

						<p>Your notes have a slight mistake.</p>

						<pre>
							<code>
data.forEach(function(weatherReport) {
   console.log(weatherReport);
   var row = tbody.append("tr");

   Object.entries(weatherReport).forEach(function([key, value]) {
     console.log(key, value);
     // Append a cell to the row for each value
     // in the weather report object
     var cell = row.append("td");
   });
 });
							</code>
						</pre>

						<h4>Step 5: Use d3 to append 1 cell per value</h4>

						<pre>
							<code>
 data.forEach(function(weatherReport) {
   console.log(weatherReport);
   var row = tbody.append("tr");
   Object.entries(weatherReport).forEach(function([key, value]) {
     console.log(key, value);
     // Append a cell to the row for each value
     // in the weather report object
     var cell = row.append("td");
     cell.text(value);
   });
 });
							</code>
						</pre>

						<h4>What about the column headers? (Not in your notes)</h4>

						<p>Remember, most of the tables have structured column headers. So, select one of the rows, grab its keys using <code>Object.keys</code>.</p>

						<pre>
							<code>
var thead = d3.select("thead");

var column_headers = Object.keys(data[0]);

var row = thead.append("tr");

column_headers.forEach(header => {
	var cell = row.append("th"); // following Bootstraps convention
	cell.text(header);
});

							</code>
						</pre>


						<table class="table">
							<thead id="thead">
								
							</thead>
							<tbody id="tbody">
								
							</tbody>
						</table>
					</div>

					<div id="04-Ins_Event_Listeners" class="instructor-block">
						<h3>04-Ins_Event_Listeners</h3>

						<p>Javascript has something called "event listeners". Event listeners allow interactions between the user and the page via:</p>
						<ul>
							<li>click</li>
							<li>change</li>
							<li>keydown</li>
							<li>keyup</li>
							<li>scroll</li>
							<li>pointerenter</li>
							<li>pointerleave</li>
							<li>Too many to count! Check out <a href="https://developer.mozilla.org/en-US/docs/Web/Events">web events</a>.</li>
						</ul>

						<h4>Events have:</h4>
						<ul>
							<li>A target: the element or the reference of the object</li>
							<li>A handler: a function which should be executed.</li>
						</ul>

						<p>Example:</p>
						<button type="button" class="btn btn-primary" onclick='colorChange(".instructor-block h3");'>Headers will rotate in colors!</button>
						<button type="button" id="link-change" class="color-change btn btn-primary">Links will rotate in colors!</button>

						<div class="row">
							<div class="input-group input-group-lg">
								<input id="test-change" type="text" class="form-control" placeholder='Instead of "click", we can use "change".' aria-label="something" aria-describedby="basic-addon1">
							</div>
						</div>

						<div class="row">
							<div class="input-group input-group-lg">
								<input id="test-keydown" type="text" class="form-control" placeholder='Instead of "change", we can use "keydown".' aria-label="something" aria-describedby="basic-addon1">
							</div>
						</div>
					</div>

					<div id="05-Stu_onChange" class="student-block">
						<h3>05-Stu_onChange: Your Turn</h3>
					</div>
					<div id="06-Stu_Button_Click" class="student-block">
						<h3>06-Stu_Button_Click: Your Turn</h3>
					</div>

					<div id="07-Ins_This" class="instructor-block">
						<h3>07-Ins_This</h3>

						<p>Consider this code here:</p>
						<pre>
							<code>
d3.selectAll("button").on("click", function() {
  // What will be logged out? What is `this` in this case?
  console.log(this);
  // Answer: It will console log the `button` element.
});

							</code>
						</pre>

						<p><code>this</code> is a unique keyword, which exist in many programming languages. If you run code in an object, and you reference <code>this</code>, <code>this</code> <strong>refers to the object which it is in.</strong></p>

						<p><code>this</code> is something that you don't need to excel in, because it borders into computer science. However, for Javascript, we use <code>this</code> to reference functions and objects.</p>

					</div>

					<div id="08-Ins_Forms" class="instructor-block">
						<h3>08-Ins_Forms</h3>

						<p>Forms are used to capture information, or part of your data collection process in some cases:</p>

						<form>
						  <div class="form-group">
						    <label for="exampleInputEmail1">Email address</label>
						    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
						    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
						  </div>
						  <button id="submit" type="submit" class="btn btn-primary">Submit</button>
						</form>

						<div class="row">
							<div class="col-md-12">
								<p><strong>Submit</strong> is a convention that most developers use. You can use Javascript to send the information from forms and parse it into data.</p>
							</div>
						</div>

						<p><strong>Extra information:</strong> HTML natively supports forms, and usually it sends data through a POST method. There are several ways of sending and obtaining data via forms, but POST forces the HTML to reload the page, or to redirect to another page natively.</p>

						<p>That is why if we want to capture and send data through Javascript, we have to <strong>overwrite</strong> HTML's native behaviour with this code, if we use <code>d3</code> as our JS library: <code>d3.event.preventDefault();</code></p>

						<p>This breaks the default behavior for HTML elements which is innately built.</p>
					</div>
				</div> <!-- end #main-content -->


				<div id="right-sb" class="col-md-4">
					<div id="right-sb-nav" class="list-group" id="toc" role="tablist">
					  <a class="list-group-item list-group-item-action active"  href="#objectives" role="tab">Objectives</a>
					  <a class="list-group-item list-group-item-action"  href="#why-we-learn" role="tab">Why We Learn</a>
					  <a class="list-group-item list-group-item-action"  href="#01-Evr_D3_Select" role="tab">01-Evr_D3_Select</a>
					  <a class="list-group-item list-group-item-action"  href="#02-Stu_D3_Select" role="tab">02-Stu_D3_Select</a>
					  <a class="list-group-item list-group-item-action"  href="#03-Evr_D3_Table" role="tab">03-Evr_D3_Table</a>
					  <a class="list-group-item list-group-item-action"  href="#04-Ins_Event_Listeners" role="tab">04-Ins_Event_Listeners</a>
					  <a class="list-group-item list-group-item-action"  href="#05-Stu_onChange" role="tab">05-Stu_onChange</a>
					  <a class="list-group-item list-group-item-action"  href="#06-Stu_Button_Click" role="tab">06-Stu_Button_Click</a>
					  <a class="list-group-item list-group-item-action"  href="#07-Ins_This" role="tab">07-Ins_This</a>
					  <a class="list-group-item list-group-item-action"  href="#08-Ins_Forms" role="tab">08-Ins_Forms</a>
					</div>
				
				</div>
			</div> <!-- end .row -->
			
		</div> <!-- end .container-fluid -->

		<footer>
			<script type="text/javascript" src="../../js/jquery-3.3.1.min.js"></script>
			<script type="text/javascript" src="../../js/bootstrap.min.js"></script>

			<script type="text/javascript">
				var color = ['red','orange','yellow','green','blue','indigo','violet'];

				function colorChange(element){
					var random = Math.floor(Math.random() * color.length);

					d3.selectAll(element).style("color", color[random]);

					//console.log(element);

					setInterval(() => {
						// ".instructor-block h3"
						random = Math.floor(Math.random() * color.length);
						console.log(random, color[random], element);
						d3.selectAll(element).style("color", color[random]);
					},1000);
				}

				var button = d3.select("#link-change");

				button.on("click", function(){
					console.log("A button was clicked!");
					colorChange("a.list-group-item.list-group-item-action");
					console.log("d3.event.target:")
					console.log(d3.event.target);
				});

				var inputFieldChange = d3.select("#test-change");

				inputFieldChange.on("change", () => {
					var newText = d3.event.target.value;
					console.log(newText);
				});

				var inputFieldKeydown = d3.select("#test-keydown");

				inputFieldKeydown.on("keydown", () => {
					var newText = d3.event.target.value;
					console.log(newText);
				});

				var submit = d3.select("#submit");

				submit.on("click",function(){
					//d3.event.preventDefault();

					// Select the input element and get the raw HTML node
				  var inputElement = d3.select("#exampleInputEmail1");

				  // Get the value property of the input element
				  var inputValue = inputElement.property("value");

				  console.log(inputValue);

				});


			</script>

		</footer>

	</body>


</html>